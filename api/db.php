<?php// db.php (Vercel Postgres Uyumlu Sürüm)// Vercel, POSTGRES_URL'i ortam değişkeni olarak otomatik sağlar.$db_url = getenv('POSTGRES_URL');// Eğer POSTGRES_URL yoksa, bir hata ver.if (empty($db_url)) {    die("Veritabanı bağlantı adresi (POSTGRES_URL) bulunamadı.");}// URL'yi PDO'nun anlayacağı formata çevir.$db_parts = parse_url($db_url);$db_user = $db_parts['user'];$db_pass = $db_parts['pass'];$db_host = $db_parts['host'];$db_port = $db_parts['port'];$db_name = ltrim($db_parts['path'], '/');// PDO Bağlantı String'i$dsn = "pgsql:host={$db_host};port={$db_port};dbname={$db_name}";// Oturum süresini 1 yıla ayarla$cookie_lifetime = 60 * 60 * 24 * 365;session_set_cookie_params(['lifetime' => $cookie_lifetime, 'path' => '/']);session_start();// Veritabanına bağlanmayı denetry {    $conn = new PDO($dsn, $db_user, $db_pass, [PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION]);} catch (PDOException $e) {    die("Veritabanı bağlantısı başarısız: " . $e->getMessage());}?>